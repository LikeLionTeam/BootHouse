<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Auth List</title>
    <link rel="stylesheet" href="/css/user/images.css">
</head>
<body>
<main class="user-auth-list-wrap">
    <h1 class="page-title">User Auth List</h1>

    <table class="user-auth-table">
        <thead>
        <tr>
            <th>ID</th>
            <th>User ID</th>
            <th>Auth Request Type</th>
            <th>Image</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="userAuth : ${userAuthPage.content}" class="user-auth-item">
            <td th:text="${userAuth.id}"></td>
            <td th:text="${userAuth.user.id}"></td>
            <td th:text="${userAuth.authRequestType}"></td>
            <td>
                <img th:src="${userAuth.imageUrl}" alt="User Image" width="100" class="user-auth-image"/>
            </td>
            <td class="action-buttons-wrap">
                <form th:action="@{/userauth/{id}/approve(id=${userAuth.id})}" method="post">
                    <button type="submit" class="approve-btn">수락</button>
                </form>
                <form th:action="@{/userauth/{id}/deny(id=${userAuth.id})}" method="post">
                    <button type="submit" class="deny-btn">거절</button>
                </form>
                <form th:action="@{/userauth/{id}/delete(id=${userAuth.id})}" method="post">
                    <button type="submit" class="delete-btn">삭제</button>
                </form>
            </td>
        </tr>
        </tbody>
    </table>

    <nav class="pagination-wrap" th:if="${pageNumbers != null}">
        <ul class="pagination-list">
            <li th:each="pageNumber : ${pageNumbers}" class="pagination-item">
                <a th:href="@{/userauth/list(page=${pageNumber - 1}, size=${userAuthPage.size})}"
                   th:text="${pageNumber}" class="pagination-link"></a>
            </li>
        </ul>
    </nav>
</main>

<div id="imageModal" class="modal">
    <span class="close">&times;</span>
    <img class="modal-content" id="modalImage" alt="Enlarged user image">
</div>

<script type="module" src="/js/user/images/index.js"></script>
</body>
</html>